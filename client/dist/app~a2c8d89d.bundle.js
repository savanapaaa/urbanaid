/*! For license information please see app~a2c8d89d.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkurbanaid=self.webpackChunkurbanaid||[]).push([[749],{2660:function(t,n,e){e(2675),e(9463),e(6412),e(2259),e(8125),e(8706),e(2008),e(3418),e(4423),e(3792),e(8598),e(2062),e(4782),e(6910),e(2010),e(4731),e(479),e(875),e(287),e(6099),e(6034),e(3362),e(7495),e(8781),e(1699),e(7764),e(3500),e(2953);var r=e(2102),a=e(8752),o=e(6296),i=e(7742),s=(e(9340),e(1702));function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return u(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function p(){p=function(){return n};var t,n={},e=Object.prototype,r=e.hasOwnProperty,a=Object.defineProperty||function(t,n,e){t[n]=e.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{u({},"")}catch(t){u=function(t,n,e){return t[n]=e}}function d(t,n,e,r){var o=n&&n.prototype instanceof x?n:x,i=Object.create(o.prototype),s=new O(r||[]);return a(i,"_invoke",{value:F(t,e,s)}),i}function f(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}n.wrap=d;var h="suspendedStart",y="suspendedYield",g="executing",v="completed",m={};function x(){}function b(){}function w(){}var k={};u(k,i,(function(){return this}));var L=Object.getPrototypeOf,j=L&&L(L(T([])));j&&j!==e&&r.call(j,i)&&(k=j);var E=w.prototype=x.prototype=Object.create(k);function _(t){["next","throw","return"].forEach((function(n){u(t,n,(function(t){return this._invoke(n,t)}))}))}function S(t,n){function e(a,o,i,s){var l=f(t[a],t,o);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==c(p)&&r.call(p,"__await")?n.resolve(p.__await).then((function(t){e("next",t,i,s)}),(function(t){e("throw",t,i,s)})):n.resolve(p).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,s)}))}s(l.arg)}var o;a(this,"_invoke",{value:function(t,r){function a(){return new n((function(n,a){e(t,r,n,a)}))}return o=o?o.then(a,a):a()}})}function F(n,e,r){var a=h;return function(o,i){if(a===g)throw Error("Generator is already running");if(a===v){if("throw"===o)throw i;return{value:t,done:!0}}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var c=A(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===h)throw a=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=g;var l=f(n,e,r);if("normal"===l.type){if(a=r.done?v:y,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a=v,r.method="throw",r.arg=l.arg)}}}function A(n,e){var r=e.method,a=n.iterator[r];if(a===t)return e.delegate=null,"throw"===r&&n.iterator.return&&(e.method="return",e.arg=t,A(n,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=f(a,n.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,m;var i=o.arg;return i?i.done?(e[n.resultName]=i.value,e.next=n.nextLoc,"return"!==e.method&&(e.method="next",e.arg=t),e.delegate=null,m):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function C(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function I(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function T(n){if(n||""===n){var e=n[i];if(e)return e.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var a=-1,o=function e(){for(;++a<n.length;)if(r.call(n,a))return e.value=n[a],e.done=!1,e;return e.value=t,e.done=!0,e};return o.next=o}}throw new TypeError(c(n)+" is not iterable")}return b.prototype=w,a(E,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:b,configurable:!0}),b.displayName=u(w,l,"GeneratorFunction"),n.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===b||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,l,"GeneratorFunction")),t.prototype=Object.create(E),t},n.awrap=function(t){return{__await:t}},_(S.prototype),u(S.prototype,s,(function(){return this})),n.AsyncIterator=S,n.async=function(t,e,r,a,o){void 0===o&&(o=Promise);var i=new S(d(t,e,r,a),o);return n.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},_(E),u(E,l,"Generator"),u(E,i,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var n=Object(t),e=[];for(var r in n)e.push(r);return e.reverse(),function t(){for(;e.length;){var r=e.pop();if(r in n)return t.value=r,t.done=!1,t}return t.done=!0,t}},n.values=T,O.prototype={constructor:O,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!n)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var e=this;function a(r,a){return s.type="throw",s.arg=n,e.next=r,a&&(e.method="next",e.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=n,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),m},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),I(e),m}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var a=r.arg;I(e)}return a}}throw Error("illegal catch attempt")},delegateYield:function(n,e,r){return this.delegate={iterator:T(n),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=t),m}},n}function d(t,n,e,r,a,o,i){try{var s=t[o](i),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(r,a)}function f(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var o=t.apply(n,e);function i(t){d(o,r,a,i,s,"next",t)}function s(t){d(o,r,a,i,s,"throw",t)}i(void 0)}))}}var h={init:function(){var t=this;return f(p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.render();case 3:return n.next=5,t.loadIncomingReports();case 5:a.A.afterRender(),t.initializeEventListeners(),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},loadIncomingReports:function(){var t=this;return f(p().mark((function n(){var e,r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o.A.show(),n.next=4,i.A.getIncomingReports();case 4:(e=n.sent)&&(r=e.map((function(t){return{id:t.id,nama:t.nama_pelapor,judul:t.judul,deskripsi:t.deskripsi,jenis:t.jenis_infrastruktur,tanggal_kejadian:new Date(t.tanggal_kejadian).toLocaleDateString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit"}),created_at:new Date(t.created_at).toLocaleDateString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit"}),alamat:t.alamat,status:t.status}})),t.updateReportsTable(r)),n.next=13;break;case 8:if(n.prev=8,n.t0=n.catch(0),!n.t0.message.includes("Sesi anda telah berakhir")){n.next=13;break}return n.abrupt("return");case 13:return n.prev=13,o.A.hide(),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[0,8,13,16]])})))()},sortConfig:{key:null,direction:"asc"},sortData:function(t,n){var e=this;return l(t).sort((function(t,r){if(e.sortConfig.key===n&&"desc"===e.sortConfig.direction){var a=[r,t];t=a[0],r=a[1]}return"tanggal_kejadian"===n||"created_at"===n?new Date(t[n].split("/").reverse().join("-"))-new Date(r[n].split("/").reverse().join("-")):"string"==typeof t[n]?t[n].localeCompare(r[n]):t[n]-r[n]}))},updateSort:function(t){this.sortConfig.key===t?this.sortConfig.direction="asc"===this.sortConfig.direction?"desc":"asc":(this.sortConfig.key=t,this.sortConfig.direction="asc"),this.loadIncomingReports()},updateReportsTable:function(t){var n=document.querySelector("#reports-table tbody");if(n){var e=document.getElementById("searchInput").value.toLowerCase(),r=t.filter((function(t){return Object.values(t).some((function(t){return t.toString().toLowerCase().includes(e)}))}));this.sortConfig.key&&(r=this.sortData(r,this.sortConfig.key)),n.innerHTML=r.map((function(t){return'\n            <tr class="border-b border-gray-200 hover:bg-gray-50">\n                <td class="px-6 py-4 text-[#002F35] whitespace-nowrap">'.concat(t.id,'</td>\n                <td class="px-6 py-4 text-[#002F35] whitespace-nowrap">').concat(t.nama,'</td>\n                <td class="px-6 py-4 text-[#002F35]">\n                    <div class="max-w-[200px] line-clamp-1">').concat(t.judul,'</div>\n                </td>\n                <td class="px-6 py-4 text-[#002F35]">\n                    <div class="max-w-[200px] line-clamp-1">').concat(t.deskripsi,'</div>\n                </td>\n                <td class="px-6 py-4 text-[#002F35] whitespace-nowrap">').concat(t.jenis,'</td>\n                <td class="px-6 py-4 text-[#002F35] whitespace-nowrap">').concat(t.tanggal_kejadian,'</td>\n                <td class="px-6 py-4 text-[#002F35] whitespace-nowrap">').concat(t.created_at,'</td>\n                <td class="px-6 py-4 text-[#002F35]">\n                    <div class="max-w-[200px] line-clamp-1">').concat(t.alamat,'</div>\n                </td>\n                <td class="px-6 py-4 text-[#002F35] whitespace-nowrap">\n                    <span class="px-2 py-1 rounded-full text-xs bg-[#FEF3C7] text-[#92400E]">\n                        ').concat(t.status,'\n                    </span>\n                </td>\n                <td class="px-6 py-4 text-[#002F35] whitespace-nowrap">\n<a href="/admin/laporan/').concat((0,s.o)(t.id),'" \n   class="inline-flex items-center justify-center p-3 min-w-[44x] min-h-[44x] bg-[#002F35] text-white rounded-lg hover:bg-opacity-90 transition-colors">\n    <span class="material-icons-round text-lg">visibility</span>\n</a>\n                </td>\n            </tr>\n        ')})).join(""),0===r.length&&(n.innerHTML='\n                <tr>\n                    <td colspan="9" class="px-6 py-4 text-center text-gray-500">\n                        Tidak ada laporan yang ditemukan\n                    </td>\n                </tr>\n            ')}},initializeEventListeners:function(){var t,n=this;null===(t=document.getElementById("searchInput"))||void 0===t||t.addEventListener("input",(function(t){n.loadIncomingReports()}))},render:function(){var t=this,n=document.getElementById("app");if(n){n.innerHTML='\n            <div class="min-h-screen bg-gray-100">\n                '.concat(a.A.render(),"\n                ").concat(r.A.render(),'\n                \n                <main class="lg:ml-64 p-4 lg:p-8">\n                    <div class="bg-white rounded-lg shadow-lg">\n                        \x3c!-- Header Section --\x3e\n                        <div class="p-6 border-b">\n                            <h1 class="text-xl lg:text-2xl font-bold text-[#002F35]">Laporan Masuk</h1>\n                        </div>\n\n                        \x3c!-- Filters Section --\x3e\n                        <div class="p-6 border-b">\n                            <div class="flex flex-col lg:flex-row gap-4 lg:items-center lg:justify-between">\n                                <div class="relative">\n                                    <input type="text" \n                                           id="searchInput"\n                                           placeholder="Cari laporan..." \n                                           class="pl-10 pr-4 py-2 border rounded-lg w-full lg:w-64">\n                                    <span class="material-icons-round absolute left-3 top-2.5 text-gray-400">search</span>\n                                </div>\n                            </div>\n                        </div>\n\n                        \x3c!-- Table Section --\x3e\n                        <div class="overflow-x-auto p-6">\n                            <table id="reports-table" class="w-full table-auto">\n    <thead class="bg-gray-50">\n        <tr class="text-left text-sm font-medium text-[#002F35] border-b">\n            <th class="px-6 py-4 whitespace-nowrap cursor-pointer hover:bg-[#00899B]" data-sort="id">\n                ID\n                <span class="material-icons-round text-sm align-middle ml-1">unfold_more</span>\n            </th>\n            <th class="px-6 py-4 whitespace-nowrap cursor-pointer hover:bg-[#00899B]" data-sort="nama">\n                Nama\n                <span class="material-icons-round text-sm align-middle ml-1">unfold_more</span>\n            </th>\n            <th class="px-6 py-4">\n                Judul\n            </th>\n            <th class="px-6 py-4">\n                Deskripsi\n            </th>\n            <th class="px-6 py-4 whitespace-nowrap cursor-pointer hover:bg-[#00899B]" data-sort="jenis">\n                Jenis\n                <span class="material-icons-round text-sm align-middle ml-1">unfold_more</span>\n            </th>\n            <th class="px-6 py-4 whitespace-nowrap cursor-pointer hover:bg-[#00899B]" data-sort="tanggal_kejadian">\n                Tanggal Kejadian\n                <span class="material-icons-round text-sm align-middle ml-1">unfold_more</span>\n            </th>\n            <th class="px-6 py-4 whitespace-nowrap cursor-pointer hover:bg-[#00899B]" data-sort="created_at">\n                Tanggal Masuk\n                <span class="material-icons-round text-sm align-middle ml-1">unfold_more</span>\n            </th>\n            <th class="px-6 py-4">\n                Alamat\n            </th>\n            <th class="px-6 py-4">\n                Status\n            </th>\n            <th class="px-6 py-4">\n                Aksi\n            </th>\n        </tr>\n    </thead>\n    <tbody>\n    </tbody>\n</table>\n                        </div>\n\n                        \x3c!-- Pagination Section --\x3e\n                        <div class="p-6 border-t">\n                            <div class="flex flex-col lg:flex-row items-center justify-between gap-4">\n                                <div class="text-sm text-[#002F35]">\n                                    Menampilkan 1-10 dari 100 laporan\n                                </div>\n                                <div class="flex gap-2">\n                                    <button class="px-3 py-1 border rounded hover:bg-gray-50 text-sm text-[#002F35]">Previous</button>\n                                    <button class="px-3 py-1 bg-[#002F35] text-white rounded hover:bg-opacity-90 text-sm">1</button>\n                                    <button class="px-3 py-1 border rounded hover:bg-gray-50 text-sm text-[#002F35]">2</button>\n                                    <button class="px-3 py-1 border rounded hover:bg-gray-50 text-sm text-[#002F35]">3</button>\n                                    <button class="px-3 py-1 border rounded hover:bg-gray-50 text-sm text-[#002F35]">Next</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </main>\n            </div>\n        '),a.A.afterRender(),r.A.afterRender();var e=document.querySelectorAll("th[data-sort]");e.forEach((function(n){n.addEventListener("click",(function(){var r=n.getAttribute("data-sort");t.updateSort(r),e.forEach((function(e){var r=e.querySelector(".material-icons-round");r.textContent=e===n?"asc"===t.sortConfig.direction?"arrow_upward":"arrow_downward":"unfold_more"}))}))}))}},cleanup:function(){o.A.hide()}};n.A=h}}]);
//# sourceMappingURL=app~a2c8d89d.bundle.js.map